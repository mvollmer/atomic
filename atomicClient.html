<head>
    <title>Atomic Client</title>
    <meta charset="utf-8">
    <link href="../base1/cockpit.css" type="text/css" rel="stylesheet">
    <script src="../base1/jquery.js"></script>
    <script src="../base1/cockpit.js"></script>
</head>
<body>
    <div class="container-fluid" style='max-width: 400px'>
        <table class="cockpit-form-table">
            <tr>
                <td><label class="control-label">Atomic</label></td>
                <td><span id="current"></span></td>
            </tr>
            <tr>
                <td><label class="control-label" for="new">Feature</label></td>
                <td><input class="form-control" id="new" value="UTC"></td>
            </tr>
            <tr>
                <td><button class="btn btn-default btn-primary" id="change">Change</button></td>
		<td><span id="failure"></span></td>
            </tr>
        </table>
    </div>

    <script>
            var service = cockpit.dbus("org.atomic");
            var proxy = service.proxy("org.atomic", "/org/atomic/object");
            var call = proxy.call("Version", [ [ "docker.io/fedora" ], false ]);
            call.done(function(result) {
                console.log(JSON.stringify(result));
            });
            call.fail(function(error) {
                console.warn(error);
            });

    </script>
</body>
</html>
